<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        
    function p(type,url){
      return new Promise((resolve,reject)=>{
      /* 封装原生的xml请求===具备有then的功能 */
      /* 对象三要素
      属性+方法+事件【回调】
      */
      var  xhr= new  XMLHttpRequest()
      xhr.open(type,url)
      xhr.send()
      xhr.onload=function(){
          /* xhr.responseText===获取的返回值 */
          // console.log( JSON.parse(xhr.responseText),11222);
          resolve(JSON.parse(xhr.responseText))
        }
      })
    }
    Promise.all([p('post','http://geek.itheima.net/v1_0/channels'),p('get','http://geek.itheima.net/v1_0/channels')]).then(res=>{
      console.log(res,5444);
    })
    // Promise.race([p('post','http://geek.itheima.net/v1_0/channels'),p('get','http://geek.itheima.net/v1_0/channels')]).then(res=>{
    //   console.log(res,5444);
    // })
    </script>
</body>
</html>